{% extends "mail/layout.html" %}
{% load static %}

{% block body %}
<div class="row">
		<div class="col-md-2 bg-light p-3 d-flex flex-column" style="height: 100vh; border-right: 1px solid #EAEAE8">
			<p class="fw-bold mb-4">{{ request.user.email }}</p>
			<label class="section-label">Mail</label>
				<div class="list-group mb-auto">
					<button active class="list-group-item list-group-item-action d-flex justify-content-between" id="inbox">
							<div><svg class="me-2" id="inbox_svg" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm640-480L501-453q-5 3-10.5 4.5T480-447q-5 0-10.5-1.5T459-453L160-640v400h640v-400ZM480-520l320-200H160l320 200ZM160-640v10-59 1-32 32-.5 58.5-10 400-400Z"/></svg>Inbox</div>
							<small class="text-muted">5</small>
					</button>

					<button class="list-group-item list-group-item-action d-flex justify-content-between" id="sent">
							<div><svg class="me-2" id="sent_svg"xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="M792-443 176-183q-20 8-38-3.5T120-220v-520q0-22 18-33.5t38-3.5l616 260q25 11 25 37t-25 37ZM200-280l474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"/></svg>Sent</div>
							<small class="text-muted">5</small>
					</button>

					<button class="list-group-item list-group-item-action d-flex justify-content-between" id="archived">
							<div><svg class="me-2" id="archive_svg" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="M640-480v-80h80v80h-80Zm0 80h-80v-80h80v80Zm0 80v-80h80v80h-80ZM447-640l-80-80H160v480h400v-80h80v80h160v-400H640v80h-80v-80H447ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80v-480 480Z"/></svg>Archived</div>
							<small class="text-muted">5</small>
					</button>

					<button class="list-group-item list-group-item-action d-flex justify-content-between" id="compose">
							<div><svg class="me-2" id="compose_svg"xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480v58q0 59-40.5 100.5T740-280q-35 0-66-15t-52-43q-29 29-65.5 43.5T480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480v58q0 26 17 44t43 18q26 0 43-18t17-44v-58q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93h160q17 0 28.5 11.5T680-120q0 17-11.5 28.5T640-80H480Zm0-280q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"/></svg>Compose</div>
							<small class="text-muted">5</small>
					</button>
			</div>
			<hr>

			<div class="list-group">
					<a class="list-group-item list-group-item-action d-flex" href="{% url 'logout' %}"><svg class="me-2" id="logout_svg" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z"/></svg>Log Out</a>
			</div>
		</div>
				
		<div id="emails-view" class="col-md-9 p-4">
				<div class="d-flex mb-3 justify-content-between">
						<h3 class="m-0" id="title"></h3>
						<button class="btn btn-primary" id="compose">
						<div><svg class="me-2" height="24px" width="24px"><use href="#compose_svg"></use></svg>
						Compose</div>
				</button>
				</div>

				<div id="emails-letters">
						
				</div>
		</div>

		<div style="position: absolute;margin: 1rem;" class="toast align-items-center text-bg-danger border-0 bottom-0 end-0 m-6">
		  <div class="d-flex">
		    <div class="toast-body" id="alert">
		      Hello, world! This is a toast message.
		    </div>
		    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
		  </div>
		</div>

		<div id="compose-view" class="col-md-6 p-4">
				<h3 id="form-title" class="mt-4">New Email</h3>
				<form id="compose-form">
						<div class="form-group mb-3">
								From: <input disabled class="form-control" value="{{ request.user.email }}">
								<div class="invalid-feedback">
									Please provide a valid email
								</div>
						</div>
						<div class="form-group mb-3" id="compose-recipients">
								To: <input class="form-control">
								<div class="invalid-feedback">
									Please provide a recipients
								</div>
						</div>
						<div class="form-group mb-4" id="compose-subject">
								<input class="form-control has-validation" placeholder="Subject">
								<div class="invalid-feedback">
									Please provide a Subject
								</div>
						</div>
						<div id="compose-body" >
								<textarea class="form-control" placeholder="Body" rows="16"></textarea>
								<div class="invalid-feedback">
								Please provide a content
								</div>
						</div>
						<input type="submit" class="btn btn-primary mt-3"/>
				</form>
		</div>

		<div id="letter-open" class="col-md-4 ms-auto">
				<div class="bg-light" style="height: 100vh; border-left: 1px solid #EAEAE8">

								<div class="d-flex w-100 p-4" id="close">
										<button active="" class="list-group-item list-group-item-action d-flex justify-content-between p-0">
						<div><svg class="me-2" height="24px" width="24px"><use href="#compose_svg"></use></svg>Close</div>
				</button>
								</div>
						<div class="p-4" id="content">

								<h2 class="fw-bold my-3" id="Subject">Subject</h2>

								<div class="d-flex">
										<div class="d-flex flex-grow-1">
												<svg class="me-2" height="24px" width="24px"><use href="#compose_svg"></use></svg>
												<p>Date:</p>
										</div>
										<p id="Date">9 August 12:04</p>
								</div>

								<div class="d-flex">
										<div class="d-flex flex-grow-1">
												<svg class="me-2" height="24px" width="24px"><use href="#compose_svg"></use></svg>
												<p>From:</p>
										</div>
										<p id="Sender">Me</p>
								</div>

								<div class="d-flex">
										<div class="d-flex flex-grow-1">
												<svg class="me-2" height="24px" width="24px"><use href="#compose_svg"></use></svg>
												<p>To:</p>
										</div>
										<p id="Recipients">Others</p>
								</div>

								<div id="ArchivedDiv" class="display:none;">
										<div class="d-flex me-2">
												<svg class="me-2" height="24px" width="24px"><use href="#compose_svg"></use></svg>
												<p>Arhived:</p>
										</div>
										<input class="form-check-input" type="checkbox" value="" id="flexCheck" checked>
								</div>

								<hr>

								<p id="Body-Content">Body letter</p>

								<hr>
								<div class="email-actions">
										
								</div>
						</div>
				 </div>
		</div>

</div>
{% endblock %}

{% block script %}
		<script src="{% static 'mail/inbox.js' %}"></script>
{% endblock %}